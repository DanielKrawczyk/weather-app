{"version":3,"sources":["states/cityState.js","components/Search.jsx","components/Loading.jsx","states/infoState.js","components/Info.jsx","states/dataState.js","components/fetch.js","components/functions/index.js","components/Main.jsx","components/Navbar.jsx","App.js","index.js"],"names":["cityState","atom","key","default","Search","props","useRecoilState","city","setCity","id","className","type","onChange","el","target","value","onClick","length","onSearch","Loading","xmlns","fill","viewBox","d","infoState","Info","info","useRecoilValue","document","getElementById","classList","add","dataState","a","fetch","keys","res","status","cod","message","data","json","fetchData","f","checkData","unixToLocal","time","date","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","substr","getTime","toLocaleString","fetchCityWeather","x","remove","then","catch","err","console","log","finally","Main","style","textAlign","name","sys","country","localStorage","JSON","parse","getItem","fav","contains","removeItem","setItem","stringify","markAsFavourite","src","weather","icon","alt","main","temp","toFixed","description","feels_like","temp_min","temp_max","sunrise","sunset","pressure","humidity","transform","wind","deg","width","height","fillRule","speed","Navbar","App","setInfo","useSetRecoilState","setData","handleShowInfo","searchForCity","useEffect","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.124ade77.chunk.js","sourcesContent":["import { atom } from 'recoil';\r\n\r\nconst cityState = atom({\r\n    key: \"city state\",\r\n    default: \"\"\r\n});\r\n\r\nexport default cityState;","import { useRecoilState } from 'recoil';\r\nimport cityState from '../states/cityState';\r\n\r\nfunction Search(props) {\r\n\r\n    const [ city, setCity ] = useRecoilState(cityState);\r\n\r\n    return (\r\n        <div id=\"search\" className=\"search\">\r\n            <label className=\"search-label\">Search for city: </label>\r\n            <input className=\"search-input\" type=\"text\" id=\"search\" onChange={(el) => {\r\n                setCity(el.target.value);\r\n            }} />\r\n            <h1 className=\"search-button\" onClick={() => {\r\n                if (city.length > 0) props.onSearch(city);;\r\n            }}>\r\n                <i className=\"bi bi-search rotate\"></i>\r\n            </h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","function Loading() {   \r\n    return (\r\n        <div id=\"loading\" className=\"hidden\">\r\n            <span>Loading data...&emsp;</span>\r\n            <svg id=\"rotate\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" className=\"bi bi-sun\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z\"/>\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading;","import { atom } from 'recoil';\r\n\r\nconst infoState = atom({\r\n    key: \"info state\",\r\n    default: \"\"\r\n})\r\n\r\nexport default infoState;","import { useRecoilValue } from 'recoil';\r\nimport infoState from '../states/infoState';\r\n\r\nfunction Info() {\r\n\r\n    const info = useRecoilValue(infoState);\r\n\r\n    function hideInfo() {\r\n        document.getElementById('info').classList.add('hidden');\r\n    }\r\n\r\n    return (\r\n        <div id=\"info\" className=\"hidden\">\r\n            <span>{info}</span>\r\n            <br />\r\n            <button onClick={() => hideInfo()}>Okay</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info;","import { atom } from 'recoil';\r\n\r\nconst dataState = atom({\r\n    key: \"data state\",\r\n    default: \"NO_DATA\"\r\n})\r\n\r\nexport default dataState;","import * as keys from '../data/keys.json';\r\n\r\nasync function fetchData(city) {\r\n    const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${keys.key}`);\r\n    if (res.status === 404) return { cod: 404, message: \"City not found!\" };\r\n    const data = res.json();\r\n    return data;\r\n}\r\n\r\nexport default fetchData;","import fetchData from \"../fetch\";\r\n\r\nfunction checkData(data) {\r\n    if (data === \"NO_DATA\") return true;\r\n    else return false;\r\n}\r\n\r\nfunction unixToLocal(time) {\r\n    const date = new Date(time * 1000);\r\n    const hours = \"0\" + date.getHours(),\r\n    minutes = \"0\" + date.getMinutes(),\r\n    seconds = \"0\" + date.getSeconds();\r\n\r\n    return `${hours.substr(-2)}:${minutes.substr(-2)}:${seconds.substr(-2)}`\r\n}\r\n\r\nfunction getTime() {\r\n    const date = new Date().toLocaleString();\r\n    return date;\r\n}\r\n\r\nfunction fetchCityWeather(x) {\r\n    document.getElementById(\"loading\").classList.remove(\"hidden\");\r\n\r\n    fetchData(x)\r\n    .then(res => {\r\n        if (res.cod === 200)\r\n            return { status: \"READY\", data: res };\r\n        else if (res.cod === 404)\r\n            return { status: \"NOT_FOUND\", message: \"I cannot find the city you are looking for. Are you sure you spelled it right?\" };\r\n        else\r\n            return { status: \"CONNECTION_ERROR\", message: \"Something went wrong! Please let us know about your issue or try again later!\" };\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        return \"CATCHED_ERROR\";\r\n    })\r\n    .finally(() => document.getElementById(\"loading\").classList.add(\"hidden\"));\r\n}\r\n\r\nconst f = { checkData, unixToLocal, getTime, fetchCityWeather };\r\n\r\nexport default f;","import { useRecoilValue } from 'recoil';\r\nimport dataState from '../states/dataState';\r\nimport f from './functions/index';\r\n\r\nfunction Main() {\r\n\r\n    const data = useRecoilValue(dataState),\r\n    { checkData, unixToLocal, getTime } = f;\r\n\r\n    \r\n    function markAsFavourite() {\r\n        const fav = document.getElementById('favourite').classList;\r\n        \r\n        if (fav.contains('added')) {\r\n            fav.remove('added');\r\n            localStorage.removeItem(\"fav\");\r\n        } else {\r\n            fav.add('added');\r\n            localStorage.setItem(\"fav\", JSON.stringify(data.name))\r\n        }\r\n    }\r\n\r\n    function checkLocal() {\r\n        if (\"fav\" in localStorage && data.name === JSON.parse(localStorage.getItem(\"fav\"))) {\r\n            return \"added\";\r\n        } else return \"\";\r\n    }\r\n\r\n    if (!checkData(data)) {\r\n        return (\r\n            <div id=\"main\" className=\"main\">\r\n                <div className=\"main-title\">\r\n                    <h6>{getTime()}</h6>\r\n                    <h1>{data.name} ({data.sys.country}) <i id=\"favourite\" className={`bi bi-star favourite ${checkLocal()}`} onClick={() => markAsFavourite()}></i></h1>\r\n                </div>\r\n                <div className=\"main-info\">\r\n                    <div className=\"main-info_weather\">\r\n                        <div className=\"main-info_weather_icon\">\r\n                            <img src={`http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`} alt=\"weather icon\"/>\r\n                            <h1>{data.main.temp.toFixed(1)}&deg;C</h1>\r\n                        </div>\r\n                        <div className=\"main-info_weather_description\">\r\n                            {data.weather[0].description}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"main-info_temp\">\r\n                        <p>Feels like: {data.main.feels_like.toFixed(1)}&deg;C</p>\r\n                        <p>Min: {data.main.temp_min.toFixed(1)}&deg;C</p>\r\n                        <p>Max: {data.main.temp_max.toFixed(1)}&deg;C</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"main-sun\">\r\n                    <p>Sunrise: {unixToLocal(data.sys.sunrise)}</p>\r\n                    <p>Sunset: {unixToLocal(data.sys.sunset)}</p>\r\n                </div>\r\n                <div className=\"main-addon\">\r\n                    <p>Pressure: {data.main.pressure} hPa</p>\r\n                    <p>Humidity: {data.main.humidity}%</p>\r\n                    <p> \r\n                        Wind: \r\n                        &emsp;\r\n                        <svg style={{transform: `rotate(${data.wind.deg}deg)`}} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\r\n                            <path fillRule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\r\n                        </svg>\r\n                        &emsp;\r\n                        {data.wind.speed} m/s\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h1 style={{textAlign: \"center\"}}>Please select your city!</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;","function Navbar() {\r\n    return (\r\n        <div id=\"navbar\" className=\"navbar\">\r\n            <p>Weather App</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import { useEffect } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport Search from \"./components/Search\";\nimport Loading from \"./components/Loading\";\nimport Info from \"./components/Info\";\nimport Main from './components/Main';\nimport Navbar from './components/Navbar';\nimport fetchData from './components/fetch';\nimport infoState from './states/infoState';\nimport dataState from './states/dataState';\n\nfunction App() {\n\n  const setInfo = useSetRecoilState(infoState),\n  setData = useSetRecoilState(dataState);\n\n  function handleShowInfo(info) {\n      setInfo(info);\n      document.getElementById(\"info\").classList.remove(\"hidden\");\n  }\n\n  function searchForCity(x) {\n      document.getElementById(\"loading\").classList.remove(\"hidden\");\n\n      fetchData(x)\n      .then(res => {\n          if (res.cod === 200) {\n              setData(res);\n          } else if (res.cod === 404) \n              handleShowInfo(\"I couldn't find the city you are looking for! Are you sure you spell it right?\");\n          else \n              handleShowInfo(\"Ooops! Something bad happened to the internet! Please, try again later!\");\n\n      })\n      .catch(err => {\n          handleShowInfo(\"Ooops! Something bad happened to the internet! Please, try again later!\");\n          console.log(err);\n      })\n      .finally(() => document.getElementById(\"loading\").classList.add(\"hidden\"));\n  }\n\n  useEffect(() => {\n    if (\"fav\" in localStorage) {\n      searchForCity(JSON.parse(localStorage.getItem(\"fav\")))\n    }\n  })\n\n  return (\n    <main>\n      <Loading />\n      <Info />\n      <Navbar />\n      <Search onSearch={(x) => searchForCity(x)} />\n      <Main />\n    </main>\n  )\n}\n\nexport default App;","import React from 'react';\nimport { RecoilRoot } from 'recoil';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/main.css';\n\nReactDOM.render(\n  <React.StrictMode>\n      <RecoilRoot>\n        <App />\n      </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}